{% extends 'layout.html' %}

{% block content %}
    <div class="container mt-5">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="card mx-auto w-100">
                    <div class="card-header text-center">Add Review</div>
                    <div class="card-body">
                        <form method="post" action="{% url 'reviews' %}" class="text-center">
                            {% csrf_token %}
                            <div class="form-group">
                                <label for="title">Title</label>
                                <input type="text" class="form-control mx-auto" id="title" name="title" required>
                            </div>
                            <div class="form-group">
                                <label for="score">Score</label>
                                <input type="number" class="form-control mx-auto" id="score" name="score" step="0.1"
                                       min="0"
                                       max="10" required>
                            </div>
                            <div class="form-group">
                                <label for="best_new_music">Best New Music</label>
                                <select class="form-control mx-auto" id="best_new_music" name="best_new_music" required>
                                    <option value="1">Yes</option>
                                    <option value="0">No</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="url">URL</label>
                                <input type="text" class="form-control mx-auto" id="url" name="url" required>
                            </div>
                            <div class="form-group">
                                <label for="date">Date</label>
                                <input type="date" class="form-control mx-auto" id="date" name="date" required>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-12 text-center">
                                        <label for="artist">Author</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 offset-md-2">
                                        <select class="form-control select2 mx-auto" id="author" name="author" required>
                                            {% for url, name, id in authors %}
                                                <option value="{{ url }}">{{ name }}</option>
                                            {% endfor %}
                                        </select>
                                        <script>
                                            $(document).ready(function () {
                                                $('#author').select2({
                                                    placeholder: 'Select an author',
                                                    allowClear: true,
                                                    minimumInputLength: 0
                                                });
                                            });
                                        </script>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="genre">Author Type</label>
                                <div class="input-group ">
                                    <select class="form-control mx-auto" name="type" id="type" required>
                                        {% for type in types %}
                                            <option value="{{ type }}">{{ type }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-12 text-center">
                                        <label for="artist">Artist</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 offset-md-2">
                                        <select class="form-control select2 mx-auto" id="artist" name="artist" required>
                                            {% for url, name, id in artists %}
                                                <option value="{{ url }}">{{ name }}</option>
                                            {% endfor %}
                                        </select>
                                        <script>
                                            $(document).ready(function () {
                                                $('#artist').select2({
                                                    placeholder: 'Select an artist',
                                                    allowClear: true,
                                                    minimumInputLength: 0
                                                });
                                            });
                                        </script>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-12 text-center">
                                        <label for="artist">Label</label>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-md-8 offset-md-2">
                                        <select class="form-control select2 mx-auto" id="label" name="label" required>
                                            {% for url, name, id in labels %}
                                                <option value="{{ url }}">{{ name }}</option>
                                            {% endfor %}
                                        </select>
                                        <script>
                                            $(document).ready(function () {
                                                $('#label').select2({
                                                    placeholder: 'Select a label',
                                                    allowClear: true,
                                                    minimumInputLength: 0
                                                });
                                            });
                                        </script>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group ">
                                <label for="genre">Genre</label>
                                <div class="input-group ">
                                    <select class="form-control mx-auto" name="genre" id="genre" required>
                                        {% for genre, _, _, _ in genres %}
                                            <option value="{{ genre }}">{{ genre }}</option>
                                        {% endfor %}
                                    </select>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Submit</button>
                        </form>
                    </div>
                </div>
            </div>

        </div>
    </div>
{% endblock %}
